---
date: 2024-11-11
title: "HTB Pentesting Checklist/Playbook"
description: "This is a compilation of checklists and steps I take when tackling a machine on HTB"
tags: ["Cybersecurity", "Red Team", "Playbook", "HTB"]
type: "post"
---

## Enumeration

**NOTE:** These steps are more general Ofc. Playbook gets more detailed later
1. Run nmap scan with following command: ```nmap -p- -sVC -vv <IP Addr> -oA enum/nmap```
2. Search on google for each port that is found on hacktricks for pentesting them
3. Look for unusual ports that are not usually opened

**NOTE:** Focus on ports other than port 80/443 first as 80/443 will take a longer time to enumerate

Overall for the ports I like to use https://book.hacktricks.xyz/ to go through a checklist for pentesting the port. For the ports below, I am summarizing the main things that I do for each port that are from Hacktricks

### Port 139/445: SMB

 - Use enum4linux to gather info automaticallly
 - Use crackmapexec to see if you have any public shares

### Port 3389: RDP

 - Try some password bruteforcing and spraying

### Port 80/443: Websites

 The important thing about this port is to try enumerate enough to know what the backend is. Furthermore try every parameter on a website. There might be a software vulnerablity that exists.

 1. Run whatweb to identify backend
 2. Identify if the website is being used by a CMS like wordpress. | If you do try to find a specialized scanner like wpscan for wordpress |
 3. Start with doing intial checks like robots.txt, sitemap, or specialized 404 error pages
 4. Begin spidering the site and crawl through all links to find hidden directories
 5. Run directory bruteforcing with feroxbuster to find directories recursively

 If you find something from parameters/input on the website try to go through this checklist against proxies and any reflected values you get:

https://book.hacktricks.xyz/pentesting-web/web-vulnerabilities-methodology 

The begining of the page is in regards to proxies, then any relected values you get back from the web, then search functions, forms, etc

## Privilege Escalation

For privilege escalation I follow a checklist from All the Payloads

Windows privilege escalation checklist:

[Link](https://swisskyrepo.github.io/InternalAllTheThings/redteam/escalation/windows-privilege-escalation/)

Linux privilege escalation:

[Link](https://swisskyrepo.github.io/InternalAllTheThings/redteam/escalation/linux-privilege-escalation/)

## Final Words

I have found a lot of the time when I get stuck it is because I didn't enumerate enough. I'll be trying to hit my head against the wall for something that was not the solution or was not the vulnerablity I was supposed to go after. 
